{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["short","require","useStyles","makeStyles","theme","root","height","container","display","item","border","position","iframe","width","addBtn","right","bottom","zIndex","cover","backgroundColor","control","fontSize","fontWeight","paddingLeft","shortenURL","overflow","verticalAlign","deleteBtn","padding","activeBtnGp","top","home","margin","opacity","fontFamily","textDecoration","color","App","classes","prevURL","URL","window","location","searchParams","get","parsedURL","JSON","parse","useState","open","setOpen","url","setURL","urls","setURLS","handleClose","changeURL","nextURL","set","stringify","history","pushState","iframes","map","mapElem","index","className","style","active","src","IconButton","onClick","filter","filterElem","i","id","mapElem2","type","value","e","target","select","gridTemplateColumns","join","activeClickHandler","event","isMoved","filterE","altKey","shiftKey","startMoveTraker","getBoundingClientRect","dataset","x","y","prePosition","Number","activeBtn","onMouseDown","href","title","Dialog","onClose","DialogContent","TextField","autoFocus","label","fullWidth","onChange","console","log","DialogActions","Button","err","surl","Date","now","newURLS","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e02840b8.chunk.js","sourcesContent":["import './App.css';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport {makeStyles} from '@material-ui/core/styles';\nimport {Button, Dialog, DialogActions, DialogContent, IconButton, TextField} from \"@material-ui/core\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport {useState} from \"react\";\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\nimport Draggable from 'react-draggable';\n\n//import {short} from \"node-url-shortener\";\nconst short = require(\"node-url-shortener\");\n\nconst pingURL = 'https://docs.google.com/spreadsheets/d/1MsDJxO9xOHl8LE02n34n51hxwTA_usDn-Yta4Y84LeU/copy';\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        height: '100vh'\n    },\n    container: {\n        display: 'grid',\n        height:'100%'\n    },\n    item: {\n        border:'1px solid black',\n        position:'relative'\n    },\n    iframe: {\n        width: '100%',\n        height: '100vh'\n    },\n    addBtn: {\n        position: 'absolute',\n        right: '0.2rem',\n        bottom: '0.2rem',\n        zIndex:10000000\n    },\n    cover:{\n        width:'100%',\n        height:'100%',\n        backgroundColor:'gray',\n        border:'5px solid black'\n    },\n    control:{\n        position:\"absolute\",\n        bottom:'0',\n        right:'0',\n        zIndex:10000,\n        fontSize:'2rem',\n        fontWeight:'bold',\n        paddingLeft:'2px',\n        backgroundColor:'rgba(255,255,255,0.5)'\n    },\n    shortenURL:{\n        border:'none',\n        overflow:'visible',\n        fontSize:'1.3rem',\n        width:'16rem',\n        verticalAlign:'middle',\n        backgroundColor:'rgba(255,255,255,0)'\n    },\n    deleteBtn:{\n        padding:'0',\n        verticalAlign:'middle'\n    },\n    activeBtnGp:{\n        position:'absolute',\n        top:'1px',\n        right:'1px',\n        zIndex:1000000,\n        \"& input\":{\n            fontSize:'2rem'\n        }\n    },\n    home:{\n        position:'absolute',\n        zIndex:100000,\n        margin:'0.5rem',\n        opacity: 0.7,\n        backgroundColor:'rgba(255, 255, 255, 0.5)',\n        display:'none',\n        \"& a\":{\n            fontFamily:\"'Alfa Slab One', cursive\",\n            textDecoration:'none',\n            fontSize:'1rem',\n            color:'black'\n        }\n    }\n}));\n\nfunction App() {\n    const classes = useStyles();\n    const prevURLObj = new URL(window.location);\n    const prevURL = prevURLObj.searchParams.get('p');\n    var parsedURL = JSON.parse(prevURL);\n    parsedURL = parsedURL === null ? [] : parsedURL;\n    const [open, setOpen] = useState(false);\n    const [url, setURL] = useState(null);\n    const [urls, setURLS] = useState(\n        parsedURL === null ? [] : parsedURL\n    );\n    const handleClose = () => {\n        setOpen(false);\n    };\n    const handleAdd = () => {\n        handleClose();\n        short.short(url, (err, surl)=>{\n            const id = Date.now();\n            let newURLS = [...urls, {id:id, url:surl, title:null, active:true}];\n            setURL('');\n            changeURL(newURLS);\n        })\n    }\n    function changeURL(urls){\n        const nextURL = new URL(window.location);\n        nextURL.searchParams.set('p', JSON.stringify(urls));\n        window.history.pushState(null, null, nextURL);\n        setURLS(urls);\n    }\n    const iframes = urls.map((mapElem, index) => {\n        return <div key={mapElem.id} className={classes.item} style={{display:mapElem.active ? 'block' : 'none'}}>\n            <iframe src={mapElem.url} className={classes.iframe}></iframe>\n            <Draggable>\n                <div className={classes.control}>\n                    <IconButton aria-label=\"delete\" className={classes.deleteBtn} onClick={function () {\n                        const newURLS = [...urls].filter((filterElem, i) => mapElem.id !== filterElem.id);\n                        changeURL(newURLS);\n                    }}>\n                        <DeleteIcon fontSize=\"small\" />\n                    </IconButton>\n                    <IconButton aria-label=\"visibility\" className={classes.deleteBtn} onClick={function () {\n                        const newURLS = [...urls].map((mapElem2, i) => {\n                                if (mapElem.id === mapElem2.id) {\n                                    mapElem2.active = false;\n                                    return mapElem2;\n                                }\n                                return mapElem2;\n                            }\n                        );\n                        changeURL(newURLS);\n                    }}>\n                        <VisibilityOffIcon fontSize=\"small\" />\n                    </IconButton>\n                    <input className={classes.shortenURL} id=\"shortenName\" type=\"text\" value={urls[index].url} onClick={(e)=>{e.target.select();}}></input>\n                </div>\n            </Draggable>\n        </div>\n    })\n    const gridTemplateColumns = urls.filter((e)=>e.active === true).map((e) => '1fr').join(' ');\n\n    function activeClickHandler(e) {\n        return (event) => {\n            if(isMoved(event.target))\n                return false;\n            const selectedActive = [...urls].filter((filterE) => e.id === filterE.id)[0].active;\n            const newURLS = [...urls].map((mapElem2, i) => {\n                    if (event.altKey) {\n                        if (e.id === mapElem2.id) {\n                            mapElem2.active = true;\n                        } else {\n                            mapElem2.active = false;\n                        }\n                    } else if (event.shiftKey) {\n                        mapElem2.active = true;\n                    } else {\n                        if (e.id === mapElem2.id) {\n                            mapElem2.active = !mapElem2.active;\n                        }\n                    }\n                    return mapElem2;\n                }\n            );\n            changeURL(newURLS);\n        };\n    }\n\n    const startMoveTraker = (target)=>{\n        var position = target.getBoundingClientRect();\n        target.dataset.x = position.x;\n        target.dataset.y = position.y;\n    }\n    const isMoved = (target)=>{\n        let position = target.getBoundingClientRect();\n        let prePosition = target.dataset;\n        if(position.x !== Number(prePosition.x) || position.y !== Number(prePosition.y)){\n            return true;\n        }\n        return false;\n    }\n    const activeBtn = urls.map((e,i)=><input type=\"button\" value={i} style={{opacity:e.active ? 0.7 : 0.1}} onMouseDown={(event)=>{\n        startMoveTraker(event.target);\n    }} onClick={activeClickHandler(e)}  />);\n    return (\n        <div className={classes.root}>\n            <Draggable>\n                <div className={classes.home}>\n                    <a href=\"/\">Iframe Union</a>\n                </div>\n            </Draggable>\n            <Draggable>\n                <div className={classes.activeBtnGp} title=\"Alt+클릭:다른창 숨기기, Shift+클릭:모든창 보이기\">\n                    {activeBtn}\n                    <input type=\"button\" value=\"+\" style={{opacity:0.7}}\n                           onMouseDown={(event)=>{\n                                startMoveTraker(event.target);\n                           }}\n                           onClick={(event) => {\n                               if(isMoved(event.target))\n                                   return false;\n                               setOpen(true);\n                           }}></input>\n                </div>\n            </Draggable>\n            <div className={classes.container} style={{gridTemplateColumns: gridTemplateColumns}}>\n                {iframes}\n            </div>\n            <Dialog open={open} onClose={handleClose}>\n                <DialogContent>\n                    추가 할 웹페이지의 주소를 입력해주세요.\n                    <TextField\n                        autoFocus\n                        margin=\"dense\"\n                        id=\"name\"\n                        label=\"URL\"\n                        type=\"url\"\n                        fullWidth\n                        onChange={(e) => {\n                            setURL(e.target.value);\n                            console.log(e.target.value)\n                        }}\n                        value={url}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleAdd} color=\"primary\">\n                        웹페이지 추가\n                    </Button>\n                    <Button onClick={handleClose} color=\"primary\">\n                        취소\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}